syntax = "proto3";

package wolong.sim.output.world.v1;

import "wolong/geo/v1/geo.proto";

// 本文件描述模拟器每帧对外输出的原始数据

message Vehicle {
  uint32 id = 1;
  // 可以通过地图数据查询得到对应的roadid或junctionid
  uint32 lane_id = 2;
  geo.v1.LongLatPosition position = 3;
  float speed = 4;
  // 单位：xy坐标系下的弧度rad，xy坐标分别对应纬度、经度，因此正北对应direction=0
  float direction = 5;
}

// Kafka内消息用World序列化/反序列化
message World {
  // step==-1代表消息结束
  int32 step = 1;
  float time = 2;
  repeated Vehicle vehicles = 3;
}
